{"name":"Verify token queue by making the an invalid api details","id":"stories/fp/tokens/TokenQueue.story;Verify token queue by making the an invalid api details","testSteps":[{"number":1,"description":"Modify the tokenbank api value from Config-Prizemachine article","duration":229549,"startTime":"2019-08-21T00:27:48.762+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":true,"level":0,"children":[{"number":2,"description":"Go to FP application","duration":42058,"startTime":"2019-08-21T00:27:49.032+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":3,"description":"Maximize window","duration":332,"startTime":"2019-08-21T00:28:30.758+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":2}]},{"number":4,"description":"Given User redirect to the Frontpage application \u0027ProcessTokens\u0027","duration":51427,"startTime":"2019-08-21T00:28:31.090+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":5,"description":"Navigate to FP application: {https://frontpage.qa.pch.com/command/prizemachine:tokens-credit-queue}","duration":51424,"startTime":"2019-08-21T00:28:31.092+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":2}]},{"number":6,"description":"And User redirect to the Frontpage application \u0027ProcessRetryTokens\u0027","duration":50267,"startTime":"2019-08-21T00:29:22.517+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":7,"description":"Navigate to FP application: {https://frontpage.qa.pch.com/command/prizemachine:tokens-credit-queue-mulitple-lob?option\u003dretry}","duration":50264,"startTime":"2019-08-21T00:29:22.519+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":2}]},{"number":8,"description":"Given Login to the Frontpage Admin","duration":3546,"startTime":"2019-08-21T00:30:12.784+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":9,"description":"Login frontpage admin","duration":3532,"startTime":"2019-08-21T00:30:12.797+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":2}]},{"number":10,"description":"And Do a search for an article \u0027Config-Prizemachine\u0027","duration":5110,"startTime":"2019-08-21T00:30:16.330+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":11,"description":"Search article: Config-Prizemachine","duration":5107,"startTime":"2019-08-21T00:30:16.332+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":2}]},{"number":12,"description":"And Get the field value by its key name \u0027tokenBankApiBaseUri\u0027","duration":154,"startTime":"2019-08-21T00:30:21.440+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":13,"description":"Get field by key name: tokenBankApiBaseUri","duration":152,"startTime":"2019-08-21T00:30:21.441+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":2}]},{"number":14,"description":"And Modify the field by its key name \u0027tokenBankApiBaseUri\u0027 with the given value \u0027testurl\u0027","duration":26171,"startTime":"2019-08-21T00:30:21.594+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":15,"description":"Modify field by key name: tokenBankApiBaseUri, testurl","duration":26170,"startTime":"2019-08-21T00:30:21.595+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":2}]},{"number":16,"description":"And User redirect to the Frontpage application \u0027ClearCache\u0027","duration":50544,"startTime":"2019-08-21T00:30:47.766+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":17,"description":"Navigate to FP application: {https://frontpage.qa.pch.com/cache}","duration":50543,"startTime":"2019-08-21T00:30:47.767+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":2}]}]},{"number":18,"description":"Go to FP application","duration":13968,"startTime":"2019-08-21T00:31:38.344+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":19,"description":"Maximize window","duration":43,"startTime":"2019-08-21T00:31:52.268+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1}]},{"number":20,"description":"Given Register a fully registered user through RF and login to the site","duration":65477,"startTime":"2019-08-21T00:31:52.312+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":21,"description":"Register fully reg from RF and login to site","duration":65455,"startTime":"2019-08-21T00:31:52.334+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1}]},{"number":22,"description":"When Do a search on homepage and Verify SERP page","duration":6538,"startTime":"2019-08-21T00:32:57.789+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":23,"description":"Search and verify SERP page","duration":6536,"startTime":"2019-08-21T00:32:57.791+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1}]},{"number":24,"description":"Then Verify the token queue record details with status as \u00270\u0027","duration":111,"startTime":"2019-08-21T00:33:04.327+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":25,"description":"Verify token queue record: 0","duration":102,"startTime":"2019-08-21T00:33:04.335+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1}]},{"number":26,"description":"And User redirect to the Frontpage application \u0027ProcessTokens\u0027","duration":50402,"startTime":"2019-08-21T00:33:04.438+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":27,"description":"Navigate to FP application: {https://frontpage.qa.pch.com/command/prizemachine:tokens-credit-queue}","duration":50399,"startTime":"2019-08-21T00:33:04.440+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1}]},{"number":28,"description":"And Verify the token queue record details with status as \u00271\u0027","duration":451,"startTime":"2019-08-21T00:33:54.840+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":29,"description":"Verify token queue record: 1","duration":449,"startTime":"2019-08-21T00:33:54.842+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1}]},{"number":30,"description":"And Login to the Frontpage Admin","duration":4435,"startTime":"2019-08-21T00:33:55.291+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":31,"description":"Login frontpage admin","duration":4422,"startTime":"2019-08-21T00:33:55.304+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1}]},{"number":32,"description":"And Do a search for an article \u0027Config-Prizemachine\u0027","duration":4812,"startTime":"2019-08-21T00:33:59.726+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":33,"description":"Search article: Config-Prizemachine","duration":4810,"startTime":"2019-08-21T00:33:59.728+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1}]},{"number":34,"description":"And Modify the field by its key name \u0027tokenBankApiBaseUri\u0027 with the given value \u0027http://tokenbankapi.{env}.pch.com/api\u0027","duration":26769,"startTime":"2019-08-21T00:34:04.538+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":35,"description":"Modify field by key name: tokenBankApiBaseUri, http://tokenbankapi.{env}.pch.com/api","duration":26766,"startTime":"2019-08-21T00:34:04.540+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1}]},{"number":36,"description":"And User redirect to the Frontpage application \u0027ClearCache\u0027","duration":50544,"startTime":"2019-08-21T00:34:31.307+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":37,"description":"Navigate to FP application: {https://frontpage.qa.pch.com/cache}","duration":50542,"startTime":"2019-08-21T00:34:31.309+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1}]},{"number":38,"description":"And User redirect to the Frontpage application \u0027ProcessTokens\u0027","duration":50237,"startTime":"2019-08-21T00:35:21.851+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":39,"description":"Navigate to FP application: {https://frontpage.qa.pch.com/command/prizemachine:tokens-credit-queue}","duration":50235,"startTime":"2019-08-21T00:35:21.853+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1}]},{"number":40,"description":"And Verify the absence of the token queue record","duration":771,"startTime":"2019-08-21T00:36:12.088+05:30[Asia/Calcutta]","screenshots":[{"screenshot":"e8e1020c056a6831e971496ede03547d10f5b624768d742cfc9b7853e94ea4d5.png","htmlSource":"pagesource16182192109329794139.html.txt","timeStamp":1566327972859}],"exception":{"errorType":"java.lang.AssertionError","message":"Token queue records are still present in table after run the cron helper url expected:\u003c0\u003e but was:\u003c3\u003e","stackTrace":[{"classLoaderName":"app","declaringClass":"com.pch.automation.stepdefinitions.fp.TokenQueueSteps","methodName":"verifyAbsenceOfTokenQueueRecord","fileName":"TokenQueueSteps.java","lineNumber":34,"format":1}]},"result":"FAILURE","precondition":false,"level":0,"children":[{"number":41,"description":"Get token queue record count","duration":135,"startTime":"2019-08-21T00:36:12.090+05:30[Asia/Calcutta]","result":"SUCCESS","precondition":false,"level":1}]},{"number":42,"description":"And User redirect to the Frontpage application","duration":0,"startTime":"2019-08-21T00:36:12.860+05:30[Asia/Calcutta]","result":"SKIPPED","precondition":false,"level":0},{"number":43,"description":"And Verify the tokens are awarded from the queue","duration":1,"startTime":"2019-08-21T00:36:12.860+05:30[Asia/Calcutta]","result":"SKIPPED","precondition":false,"level":0},{"number":44,"description":"Login frontpage admin","duration":3173,"startTime":"2019-08-21T00:36:13.095+05:30[Asia/Calcutta]","result":"SKIPPED","precondition":false,"level":0},{"number":45,"description":"Search article: Config-Prizemachine","duration":5174,"startTime":"2019-08-21T00:36:16.272+05:30[Asia/Calcutta]","result":"SKIPPED","precondition":false,"level":0},{"number":46,"description":"Modify field by key name: tokenBankApiBaseUri, http://tokenbankapi.{env}.pch.com/api","duration":26844,"startTime":"2019-08-21T00:36:21.448+05:30[Asia/Calcutta]","result":"SKIPPED","precondition":false,"level":0},{"number":47,"description":"Navigate to FP application: {https://frontpage.qa.pch.com/cache}","duration":50303,"startTime":"2019-08-21T00:36:48.295+05:30[Asia/Calcutta]","result":"SKIPPED","precondition":false,"level":0}],"userStory":{"id":"TokenQueue","storyName":"Token queue","path":"fp/tokens/TokenQueue.story","narrative":"In order to verify token queue records on DB\nAs a Tester\nI want to modify the values from \"Config-Prizemachine\" joomla article and validate on site.\r\n\r\nMeta:\r\n@TestingType Regression","type":"story"},"featureTag":{"name":"Tokens/Token queue","type":"story","displayName":"Tokens/Token queue"},"title":"Verify token queue by making the an invalid api details","tags":[{"name":"Fp","type":"capability","displayName":"Fp"},{"name":"Fp/Tokens","type":"feature","displayName":"Tokens"},{"name":"Tokens/Token Queue","type":"story","displayName":"Token Queue"}],"startTime":"2019-08-21T00:27:48.762+05:30[Asia/Calcutta]","duration":504099,"testFailureCause":{"errorType":"java.lang.AssertionError","message":"Token queue records are still present in table after run the cron helper url expected:\u003c0\u003e but was:\u003c3\u003e","stackTrace":[{"classLoaderName":"app","declaringClass":"com.pch.automation.stepdefinitions.fp.TokenQueueSteps","methodName":"verifyAbsenceOfTokenQueueRecord","fileName":"TokenQueueSteps.java","lineNumber":34,"format":1}]},"testFailureClassname":"java.lang.AssertionError","testFailureMessage":"Token queue records are still present in table after run the cron helper url expected:\u003c0\u003e but was:\u003c3\u003e","testFailureSummary":"FAILURE;java.lang.AssertionError;Token queue records are still present in table after run the cron helper url expected:\u003c0\u003e but was:\u003c3\u003e;TokenQueueSteps.java","projectKey":"","annotatedResult":"FAILURE","sessionId":"9a39abfd71f5b77f216b15d1af986ab9","driver":"chrome","manual":false,"testSource":"JBehave","result":"FAILURE"}